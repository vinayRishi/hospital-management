
<form #createappointment="ngForm" novalidate class="px-4 py-3">
    <div class="mb-3">
      <div *ngIf="modes.addMode">
        <h6 class="form-text text-center sub-heading" >Create Appointment</h6><br>
      </div>
      <div *ngIf="modes.editMode">
        <h6 class="form-text text-center sub-heading" >Update Patient Detials</h6><br>
      </div>
      <div *ngIf="modes.deleteMode">
        <h6 class="form-text text-center sub-heading" >Delete Patient</h6><br>
      </div>
        <div *ngIf="modes.editMode || modes.deleteMode" class="row" style="margin-top: 20px;">
          <div class="col-md-1"></div>
            <div class="col-md-4 offset-md-2">
                <div class="form-group">
                    <label for="searchField">Search Patient</label>
                    <input type="search" class="form-control is-valid"
                    data-bs-toggle="modal" data-bs-target="#exampleModal"
                    class="form-control"
                    name="searchField" id="searchField"
                     placeholder="patient">
                </div>
            </div>
        </div>
        <div class="row">
            <h6 class="form-text text-center sub-heading">Basic Details</h6><br>
            <div class="col-md-1"></div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="firstName">Firstname</label>
                    <input type="text" class="form-control is-valid"
                    class="form-control"
                    name="firstname" id="exampleInputFirdtname"
                     placeholder="Firstname" #firstName="ngModel"
                    [(ngModel)]="patientAndPatientInformation.patient.firstName"
                     required>
                     <div *ngIf="formSubmitted && firstName.invalid">
                        <label *ngIf="firstName?.errors?.required" class="label col-form-label label-required-error">
                                Please provide a valid input.
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="lastName">Lastname</label>
                    <input type="text" class="form-control"  name="lastname"
                    required placeholder="Surname"  #lastName="ngModel"
                    [(ngModel)]="patientAndPatientInformation.patient.lastName">
                    <div *ngIf="formSubmitted && lastName.invalid">
                      <label *ngIf="lastName?.errors?.required" class="label col-form-label label-required-error">
                              Please provide a valid input.
                      </label>
                  </div>
                </div>
            </div>  
            <div class="col-md-1"></div>
            <div class="col-md-4">  
                <div class="form-group">
                    <label for="disease">Diesese</label>
                    <input type="text" class="form-control" name="disease"
                    required placeholder="Disease"  #disease="ngModel"
                    [(ngModel)]="patientAndPatientInformation.patient.disease">
                    <div *ngIf="formSubmitted && disease.invalid">
                      <label *ngIf="disease?.errors?.required" class="label col-form-label label-required-error">
                              Please provide a valid input.
                      </label>
                  </div>
                </div>
                <div class="form-group">
                    <label for="mobileNumber">PhoneNumber</label>
                    <input type="text" class="form-control"  name="phonenumber"
                    required placeholder="PhoneNumber" #mobileNumber="ngModel"
                    [(ngModel)]="patientAndPatientInformation.patient.mobileNumber">
                    <div *ngIf="formSubmitted && mobileNumber.invalid">
                      <label *ngIf="mobileNumber?.errors?.required" class="label col-form-label label-required-error">
                              Please provide a valid input.
                      </label>
                  </div>
                </div>
            </div> 
        </div>
        <div class="row" style="margin-top: 20px;"> 
            <h6 class="form-text text-center sub-heading">Additional Details</h6><br> 
            <div class="col-md-1"></div>  
            <div class="col-md-4">   
                <div class="form-group">
                    <label for="emailRequired">Email</label>
                    <input type="text" class="form-control" name="email"
                    required  placeholder="email" #emailRequired="ngModel"
                    [(ngModel)]="patientAndPatientInformation.patientInformation.email">
                    <div *ngIf="formSubmitted && emailRequired.invalid">
                      <label *ngIf="emailRequired?.errors?.required" class="label col-form-label label-required-error">
                              Please provide a valid input.
                      </label>
                  </div>
                </div>
                <div class="form-group">
                    <label for="genderRequired">Gender</label>
                    <input type="text" class="form-control" name="gender"
                    required placeholder="Gender"  #genderRequired="ngModel"
                    [(ngModel)]="patientAndPatientInformation.patientInformation.gender">
                    <div *ngIf="formSubmitted && genderRequired.invalid">
                      <label *ngIf="genderRequired?.errors?.required" class="label col-form-label label-required-error">
                              Please provide a valid input.
                      </label>
                  </div>
                </div>
                <div class="form-group">
                  <label for="doctorRequired">Choose a Doctor -</label>
                  <select name="doctor"  #doctorRequired="ngModel"
                  [(ngModel)]="patientAndPatientInformation.patientInformation.doctor.doctorId"
                  required id="doctor">
                      <option value="volvo">Volvo</option>
                      <option value="saab">Saab</option>
                      <option value="mercedes">Mercedes</option>
                      <option value="audi">Audi</option>
                  </select>
                  <div *ngIf="formSubmitted && doctorRequired.invalid">
                    <label *ngIf="doctorRequired?.errors?.required" class="label col-form-label label-required-error">
                            Please provide a valid input.
                    </label>
                  </div>
                </div>
                <div class="form-group" style="margin-top: 20px;">
                  <div class="alert alert-secondary" role="alert">
                    Selected Doctor : Kidney Specialist <br/>
                    Selected person : Rajesh
                  </div>
                </div>
            </div>
            <div class="col-md-1"></div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="addressRequired">Address</label>
                    <textarea class="form-control" name="address"
                    required placeholder="Password" #addressRequired="ngModel"
                    [(ngModel)]="patientAndPatientInformation.patientInformation.address.address"></textarea>
                   <div *ngIf="formSubmitted && addressRequired.invalid">
                      <label *ngIf="addressRequired?.errors?.required" class="label col-form-label label-required-error">
                              Please provide a valid input.
                      </label>
                  </div>
                </div>
                <div class="form-group">
                    <label for="cityRequired">city</label>
                    <input type="email" class="form-control" name="city" 
                    required placeholder="city"   #cityRequired="ngModel"
                    [(ngModel)]="patientAndPatientInformation.patientInformation.address.city">
                    <div *ngIf="formSubmitted && cityRequired.invalid">
                      <label *ngIf="cityRequired?.errors?.required" class="label col-form-label label-required-error">
                              Please provide a valid input.
                      </label>
                  </div>
                </div>
                <div class="form-group">
                    <label for="stateRequired">state</label>
                    <input type="email" class="form-control" name="state" placeholder="Email"  #stateRequired="ngModel"
                    required [(ngModel)]="patientAndPatientInformation.patientInformation.address.state">
                    <div *ngIf="formSubmitted && stateRequired.invalid">
                      <label *ngIf=" stateRequired?.errors?.required" class="label col-form-label label-required-error">
                              Please provide a valid input.
                      </label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="countryRequired">country</label>
                    <input type="email" class="form-control"  name="country" placeholder="Email" #countryRequired="ngModel"
                    required [(ngModel)]="patientAndPatientInformation.patientInformation.address.country">
                    <div *ngIf="formSubmitted && countryRequired.invalid">
                      <label *ngIf=" countryRequired?.errors?.required" class="label col-form-label label-required-error">
                              Please provide a valid input.
                      </label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="zipCodeRequired">pin code</label>
                    <input type="text" class="form-control" name="pincode" placeholder="Street"  #zipCodeRequired="ngModel"
                    required [(ngModel)]="patientAndPatientInformation.patientInformation.address.zipCode">
                    <div *ngIf="formSubmitted && zipCodeRequired.invalid">
                      <label *ngIf=" zipCodeRequired?.errors?.required" class="label col-form-label label-required-error">
                              Please provide a valid input.
                      </label>
                    </div>
                </div>
            </div>    
        </div><br><br>
        <div class="row" style="margin-left: 20%;">
            <div class="col-md-4" >
                <button type="submit" class="btn btn-primary center" (click)="save()" >Save Details</button>
            </div>
            <div class="col-md-2">
                <button type="submit" class="btn btn-primary center" (click)="save()" >Submit</button>
            </div>
        </div>
    </div>
</form>





<!-- Search Patient Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>